Q: "show execution samples decorated with requestId from RequestStart"
A: {"query": "events/jdk.ExecutionSample | decorateByKey(RequestStart, key=sampledThread/javaThreadId, decoratorKey=thread/javaThreadId, fields=requestId)", "explanation": "Uses decorateByKey to correlate samples with request tracking events by matching thread IDs", "confidence": 0.90}

Q: "allocations extended with traceId from datadog.Timeline"
A: {"query": "events/jdk.ObjectAllocationSample | decorateByKey(datadog.Timeline, key=eventThread/javaThreadId, decoratorKey=thread/javaThreadId, fields=traceId,spanId)", "explanation": "Decorates allocations with distributed trace IDs using thread-based correlation for cross-service tracing", "confidence": 0.90}

Q: "top endpoints by CPU usage with request context"
A: {"query": "events/jdk.ExecutionSample | decorateByKey(RequestStart, key=sampledThread/javaThreadId, decoratorKey=thread/javaThreadId, fields=endpoint) | groupBy($decorator.endpoint, agg=count) | top(10, by=count)", "explanation": "Correlates execution samples with request metadata by thread ID, groups by endpoint from decorator", "confidence": 0.90}

Q: "allocations extended with transaction ID from TransactionEvent"
A: {"query": "events/jdk.ObjectAllocationSample | decorateByKey(TransactionEvent, key=eventThread/javaThreadId, decoratorKey=thread/javaThreadId, fields=transactionId)", "explanation": "Natural language 'extended' maps to decorateByKey for correlation ID-based joining", "confidence": 0.90}
