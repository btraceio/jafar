{
  "version": "2.0",
  "testCases": [
    {
      "id": "cpu-top-methods",
      "naturalLanguage": "what are top 5 hottest methods",
      "expectedQuery": "events/jdk.ExecutionSample/stackTrace/frames/0/method/type/name | groupBy(value) | top(5, by=count)",
      "category": "cpu",
      "difficulty": "MEDIUM",
      "keywords": ["array-access", "projection", "groupBy", "top"]
    },
    {
      "id": "memory-threads",
      "naturalLanguage": "which threads allocated the most memory",
      "expectedQuery": "events/jdk.ObjectAllocationSample | groupBy(eventThread/javaName, agg=sum, value=bytes) | top(10, by=sum)",
      "category": "memory",
      "difficulty": "MEDIUM",
      "keywords": ["groupBy", "aggregation", "top"]
    },
    {
      "id": "file-filter",
      "naturalLanguage": "show file reads over 1MB",
      "expectedQuery": "events/jdk.FileRead[bytes>1048576]",
      "category": "io",
      "difficulty": "SIMPLE",
      "keywords": ["filter"]
    },
    {
      "id": "gc-count",
      "naturalLanguage": "count GC events",
      "expectedQuery": "events/jdk.GarbageCollection | count()",
      "category": "gc",
      "difficulty": "SIMPLE",
      "keywords": ["count"]
    },
    {
      "id": "gc-stats",
      "naturalLanguage": "average GC pause time",
      "expectedQuery": "events/jdk.GarbageCollection | stats(duration)",
      "category": "gc",
      "difficulty": "SIMPLE",
      "keywords": ["stats"]
    },
    {
      "id": "thread-top",
      "naturalLanguage": "top threads by execution samples",
      "expectedQuery": "events/jdk.ExecutionSample | groupBy(sampledThread/javaName) | top(10, by=count)",
      "category": "cpu",
      "difficulty": "SIMPLE",
      "keywords": ["groupBy", "top"]
    },
    {
      "id": "allocation-classes",
      "naturalLanguage": "top allocating classes",
      "expectedQuery": "events/jdk.ObjectAllocationSample | groupBy(objectClass/name, agg=sum, value=weight) | top(10, by=sum)",
      "category": "memory",
      "difficulty": "MEDIUM",
      "keywords": ["groupBy", "aggregation", "top"]
    },
    {
      "id": "monitor-contention",
      "naturalLanguage": "which monitors have the most contention",
      "expectedQuery": "events/jdk.JavaMonitorEnter | groupBy(monitorClass/name) | top(10, by=count)",
      "category": "threading",
      "difficulty": "SIMPLE",
      "keywords": ["groupBy", "top"]
    },
    {
      "id": "large-files",
      "naturalLanguage": "files read with more than 10MB",
      "expectedQuery": "events/jdk.FileRead[bytes>10485760]",
      "category": "io",
      "difficulty": "SIMPLE",
      "keywords": ["filter", "bytes"]
    },
    {
      "id": "gc-long-pauses",
      "naturalLanguage": "GC events longer than 100ms",
      "expectedQuery": "events/jdk.GarbageCollection[duration>100000000]",
      "category": "gc",
      "difficulty": "MEDIUM",
      "keywords": ["filter", "duration", "nanoseconds"]
    },
    {
      "id": "network-reads",
      "naturalLanguage": "show network read events",
      "expectedQuery": "events/jdk.SocketRead",
      "category": "network",
      "difficulty": "SIMPLE",
      "keywords": ["event-selection"]
    },
    {
      "id": "network-large-reads",
      "naturalLanguage": "network reads larger than 1KB",
      "expectedQuery": "events/jdk.SocketRead[bytesRead>1024]",
      "category": "network",
      "difficulty": "SIMPLE",
      "keywords": ["filter", "bytes"]
    },
    {
      "id": "class-loading-top",
      "naturalLanguage": "which classes took longest to load",
      "expectedQuery": "events/jdk.ClassLoad | groupBy(loadedClass/name, agg=max, value=duration) | top(10, by=max)",
      "category": "classloading",
      "difficulty": "MEDIUM",
      "keywords": ["groupBy", "aggregation", "top", "duration"]
    },
    {
      "id": "exception-count",
      "naturalLanguage": "count exceptions by type",
      "expectedQuery": "events/jdk.JavaExceptionThrow | groupBy(thrownClass/name)",
      "category": "exceptions",
      "difficulty": "SIMPLE",
      "keywords": ["groupBy"]
    },
    {
      "id": "thread-park-duration",
      "naturalLanguage": "threads with longest park times",
      "expectedQuery": "events/jdk.ThreadPark | groupBy(eventThread/javaName, agg=sum, value=duration) | top(10, by=sum)",
      "category": "threading",
      "difficulty": "MEDIUM",
      "keywords": ["groupBy", "aggregation", "top", "duration"]
    },
    {
      "id": "file-write-large",
      "naturalLanguage": "file writes over 5MB",
      "expectedQuery": "events/jdk.FileWrite[bytesWritten>5242880]",
      "category": "io",
      "difficulty": "SIMPLE",
      "keywords": ["filter", "bytes"]
    },
    {
      "id": "compilation-slow",
      "naturalLanguage": "slow compilations over 1 second",
      "expectedQuery": "events/jdk.Compilation[duration>1000000000]",
      "category": "compilation",
      "difficulty": "MEDIUM",
      "keywords": ["filter", "duration", "nanoseconds"]
    },
    {
      "id": "multiple-filters-complex",
      "naturalLanguage": "GC events in young generation longer than 50ms",
      "expectedQuery": "events/jdk.GarbageCollection[name=~\".*Young.*\"][duration>50000000]",
      "category": "gc",
      "difficulty": "COMPLEX",
      "keywords": ["filter", "regex", "multiple-filters", "duration"]
    },
    {
      "id": "socket-address-groupby",
      "naturalLanguage": "network traffic by remote address",
      "expectedQuery": "events/jdk.SocketRead | groupBy(address, agg=sum, value=bytesRead)",
      "category": "network",
      "difficulty": "MEDIUM",
      "keywords": ["groupBy", "aggregation"]
    },
    {
      "id": "allocation-size-stats",
      "naturalLanguage": "statistics on object allocation sizes",
      "expectedQuery": "events/jdk.ObjectAllocationSample | stats(weight)",
      "category": "memory",
      "difficulty": "SIMPLE",
      "keywords": ["stats"]
    }
  ]
}
